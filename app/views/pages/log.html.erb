<body class="bg-gray-100">
    <div class="md:flex min-h-screen">
        <!-- Navigation 생략 -->
        <nav class="fixed bottom-0 z-10 w-full bg-white border-t 
                   md:border-t-0 md:border-r md:fixed md:left-0 md:top-0 
                   md:h-screen md:w-64 md:flex-shrink-0">
            
            <div class="hidden md:block p-6 border-b">
                <h1 class="text-2xl font-bold text-gray-800">My Basil</h1>
            </div>

            <ul class="flex justify-around md:flex-col md:p-4 md:space-y-2">
                
                <li class="flex-1 md:flex-none">
                    <%= link_to root_path, class: "flex flex-col items-center justify-center p-3 text-gray-500 hover:text-gray-700 hover:bg-gray-50 md:flex-row md:justify-start md:space-x-3 md:rounded-lg" do %>
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                        <span class="text-xs font-medium md:text-base">홈</span>
                    <% end %>
                </li>

                <li class="flex-1 md:flex-none">
                    <%= link_to log_path, class: "flex flex-col items-center justify-center p-3 text-blue-600 bg-blue-50 md:flex-row md:justify-start md:space-x-3 md:rounded-lg" do %>
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                        <span class="text-xs font-medium md:text-base">성장 일지</span>
                    <% end %>
                </li>

                <li class="flex-1 md:flex-none">
                    <%= link_to mypage_path, class: "flex flex-col items-center justify-center p-3 text-gray-500 hover:text-gray-700 hover:bg-gray-50 md:flex-row md:justify-start md:space-x-3 md:rounded-lg" do %>
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                        <span class="text-xs font-medium md:text-base">마이페이지</span>
                    <% end %>
                </li>
            </ul>
        </nav>

        <main class="flex-1 p-6 pb-24 md:pb-6 md:ml-64">
            <div class="bg-white p-6 rounded-lg shadow-md text-center mb-6">
                <%= video_tag "01KAJMA79S6WM197KY09DSANVJ.mp4", 
                    autoplay: true, 
                    loop: true, 
                    muted: true, 
                    playsinline: true,
                    class: "rounded-lg h-full w-full object-cover" %>

                <h3 class="text-2xl font-bold text-gray-800">오늘의 건강</h3>
                <p class="text-lg font-semibold text-red-600">나쁨</p>
            </div>

            <div class="flex justify-between items-center mb-6">
                <!-- 이전 날짜 버튼 -->
                <%= link_to log_path(date: @prev_date), class: "p-2 rounded-full hover:bg-gray-200" do %>
                    <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                <% end %>

                <div class="flex items-center space-x-2">
                    <h2 class="text-2xl font-bold text-gray-900"><%= @formatted_date %></h2>
                    <%= link_to log_path, class: "p-2 rounded-full text-blue-600 hover:bg-blue-50" do %>
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                    <% end %>
                </div>

                <!-- 다음 날짜 버튼 -->
                <% if @is_future %>
                    <button class="p-2 rounded-full hover:bg-gray-200" disabled>
                        <svg class="w-6 h-6 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </button>
                <% else %>
                    <%= link_to log_path(date: @next_date), class: "p-2 rounded-full hover:bg-gray-200" do %>
                        <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    <% end %>
                <% end %>
            </div>

            <!-- 일지 있으면 표시, 없으면 작성 버튼 -->
            <% if @log.present? %>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 space-y-6">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <div class="flex justify-end space-x-2 mb-4">
                                <button class="text-sm text-gray-600 hover:text-gray-900 font-medium">수정</button>
                                <button class="text-sm text-red-600 hover:text-red-800 font-medium">삭제</button>
                            </div>
                            <div class="space-y-4">
                                <% if @log.image.attached? %>
                                    <%= image_tag @log.image, alt: "바질 사진", class: "rounded-lg w-full object-cover h-64" %>
                                <% end %>
                                <p class="text-gray-700 leading-relaxed"><%= @log.content %></p>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-1 grid grid-cols-2 lg:grid-cols-1 gap-6">
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">성장 단계</h3>
                            <p class="text-4xl font-bold text-green-600"><%= @log.growth_stage || "2 / 4" %></p>
                        </div>
                        
                        <div class="bg-white p-6 rounded-lg shadow-md">
                            <h3 class="text-xl font-semibold text-gray-800 mb-2">건강 상태</h3>
                            <p class="text-lg font-bold text-gray-800"><%= @log.is_healthy ? "건강" : "조금 아픔" %>
                            <div class="hidden sm:block">
                                <p class="text-4xl text-transparent select-none">&nbsp;</p>
                                <p class="text-sm text-transparent select-none">&nbsp;</p>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-lg shadow-md col-span-2 lg:col-span-1">
                            <h3 class="text-xl font-semibold text-gray-800 mb-4">성장 추이</h3>
                            <div class="h-48 bg-gray-50 rounded-lg flex items-center justify-center p-4">
                                <svg class="w-full h-full text-gray-300" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M 0 40 C 10 40, 15 30, 25 30 S 40 10, 50 10 S 65 20, 75 20 S 90 35, 100 35" stroke="currentColor" stroke-width="2" stroke-linejoin="round" stroke-linecap="round"/>
                                    <path d="M 0 45 L 100 45" stroke="currentColor" stroke-width="1" stroke-dasharray="2 2"/>
                                    <path d="M 0 30 L 100 30" stroke="currentColor" stroke-width="1" stroke-dasharray="2 2"/>
                                    <path d="M 0 15 L 100 15" stroke="currentColor" stroke-width="1" stroke-dasharray="2 2"/>
                                    <circle cx="25" cy="30" r="1.5" fill="currentColor"/>
                                    <circle cx="50" cy="10" r="1.5" fill="currentColor"/>
                                    <circle cx="75" cy="20" r="1.5" fill="currentColor"/>
                                    <circle cx="100" cy="35" r="1.5" fill="currentColor"/>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            <% else %>
                <!-- 일지 없을 때: 작성 버튼 -->
                <div class="bg-white p-12 rounded-lg shadow-md text-center">
                    <svg class="w-16 h-16 text-gray-300 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m0 0h6"></path>
                    </svg>
                    <h3 class="text-xl font-semibold text-gray-800 mb-2">오늘의 일지가 없습니다</h3>
                    <p class="text-gray-600 mb-6">성장 과정을 기록해보세요!</p>
                    <%= link_to "일지 작성하기", new_user_log_path(current_user), 
    class: "inline-block px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition" %>

                </div>
            <% end %>
        </main>
    </div>
</body>
